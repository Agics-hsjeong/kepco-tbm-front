{"version":3,"file":"web/assets/js/655.d8dcec64.js","mappings":"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","sources":["webpack://kepco-tbm-front/./src/views/TBM/Step01.vue","webpack://kepco-tbm-front/src/views/TBM/Step01.vue","webpack://kepco-tbm-front/./src/views/TBM/Step01.vue?157e","webpack://kepco-tbm-front/./src/views/TBM/Step01.vue?d03f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('g-appbar',{attrs:{\"title\":\"한국전력공사  T.B.M\",\"background\":\"#f8f8fa\",\"right\":true}}),_c('div',{staticClass:\"g-area-top\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('p',{staticClass:\"g-step-now\"},[_vm._v(_vm._s(_vm.step))]),_c('div',{staticClass:\"g-step-bar\"}),_c('p',{staticClass:\"g-step\"},[_vm._v(_vm._s(_vm.totalStep))])]),_vm._m(0)]),_c('div',{staticClass:\"g-progress\"},[_c('v-progress-linear',{attrs:{\"model-value\":_vm.step,\"buffer-value\":_vm.progress,\"color\":\"#7285f3\",\"background-opacity\":\"1\"}})],1),_c('div',{staticClass:\"g-area-middle\"},[_c('div',{staticClass:\"g-voice\"},[_vm._m(1),_c('table',{staticClass:\"mb-4\"},_vm._l((_vm.operatorInfo),function(item,index){return _c('tr',{key:index},[_c('td',{staticClass:\"s-table-label\"},[_vm._v(_vm._s(item.label))]),_c('td',{staticClass:\"s-table-data\",class:_vm.textStyle(item.check),domProps:{\"innerHTML\":_vm._s(item.data)}})])}),0)]),_c('div',{staticClass:\"g-fixed-voice-btn\"},[_vm._m(2),_c('VoiceRecorderHidden',{ref:\"VoiceRecorder\",on:{\"checkAnalysisResult\":_vm.checkAnalysisResult,\"midResultState\":_vm.midResultState}}),_c('basic-btn',{attrs:{\"state\":_vm.voiceState},on:{\"onClick\":_vm.onClickNext}}),(_vm.voiceState === 'replay')?_c('div',[_c('next-btn',{on:{\"onClick\":_vm.onForceNext}})],1):_vm._e()],1)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"s-title\"},[_vm._v(\" 작업자 및 업무 분담 내용을 \"),_c('br'),_vm._v(\" 말씀해 주세요. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"s-notice-box\"},[_c('img',{staticClass:\"s-notice-icon\",attrs:{\"src\":require(\"@/assets/images/icon/i_speaker.png\")}}),_c('p',[_vm._v(\" 아래의 \"),_c('span',{staticClass:\"font_bold\"},[_vm._v(\"전달 사항\")]),_vm._v(\"을 소리 내어 \"),_c('span',{staticClass:\"font_bold\"},[_vm._v(\" 말씀해 주세요.\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"g-fixed-voice-gradation\"},[_c('img',{staticClass:\"g-fixed-voice-gradation\",attrs:{\"src\":require(\"@/assets/images/voice/i_gradation_top.png\")}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <g-appbar\r\n            title=\"한국전력공사  T.B.M\" \r\n            background=\"#f8f8fa\"\r\n            :right=\"true\"\r\n        />\r\n        <div class=\"g-area-top\">\r\n            <div class=\"d-flex align-center\">\r\n                <p class=\"g-step-now\">{{ step }}</p>\r\n                <div class=\"g-step-bar\"></div>\r\n                <p class=\"g-step\">{{ totalStep }}</p>\r\n            </div>\r\n            <p class=\"s-title\">\r\n                작업자 및 업무 분담 내용을 <br/>\r\n                말씀해 주세요.\r\n            </p>\r\n        </div>\r\n        <div class=\"g-progress\">\r\n            <v-progress-linear \r\n                :model-value=\"step\"\r\n                :buffer-value=\"progress\"\r\n                color=\"#7285f3\"\r\n                background-opacity=\"1\"\r\n            ></v-progress-linear>\r\n        </div>\r\n        <div class=\"g-area-middle\"> \r\n            <div class=\"g-voice\">\r\n                <div class=\"s-notice-box\">\r\n                    <img class=\"s-notice-icon\" src=\"@/assets/images/icon/i_speaker.png\"/>\r\n                    <p>\r\n                        아래의 <span class=\"font_bold\">전달 사항</span>을 소리 내어 \r\n                        <span class=\"font_bold\"> 말씀해 주세요.</span>\r\n                    </p>\r\n                </div>\r\n                <table class=\"mb-4\">\r\n                    <tr v-for=\"(item, index) in operatorInfo\" :key=\"index\">\r\n                        <td class=\"s-table-label\">{{ item.label }}</td>\r\n                        <td class=\"s-table-data\" :class=\"textStyle(item.check)\" v-html=\"item.data\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <div class=\"g-fixed-voice-btn\">\r\n                <div class=\"g-fixed-voice-gradation\">\r\n                    <img class=\"g-fixed-voice-gradation\" src=\"@/assets/images/voice/i_gradation_top.png\"/>\r\n                </div>\r\n                <VoiceRecorderHidden \r\n                    ref=\"VoiceRecorder\"\r\n                    @checkAnalysisResult=\"checkAnalysisResult\"\r\n                    @midResultState=\"midResultState\"\r\n                />\r\n                <basic-btn \r\n                    :state=\"voiceState\"\r\n                    @onClick=\"onClickNext\"\r\n                />\r\n                <div v-if=\"voiceState === 'replay'\">\r\n                    <next-btn @onClick=\"onForceNext\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport BasicBtn from '@/components/button/BasicBtn.vue'\r\nimport VoiceRecorderHidden from '@/components/common/VoiceRecorderHidden.vue'\r\nimport NextBtn from '@/components/button/NextBtn.vue'\r\n\r\nexport default {\r\n    name: 'Step01',\r\n    components: { BasicBtn, VoiceRecorderHidden, NextBtn },\r\n    data() {\r\n        return {\r\n            step: 1,\r\n            totalStep: 6,\r\n            operatorInfo: [\r\n                { index: 1, label: '작업 책임자', data: '김범수', check: false },\r\n                { index: 2, label: '주작업자', data: '이창재', check: false },\r\n                { index: 3, label: '보조작업자', data: '정용진', check: false },\r\n                { index: 4, label: '배선작업', data: '최원준', check: false },\r\n                { index: 5, label: '신호수', data: '김한규', check: false },\r\n                // { index: 6, label: '지상작업자', data: '이예진', check: false },\r\n                // { index: 7, label: '지상작업자', data: '고도연', check: false },\r\n                // { index: 8, label: '지상작업자', data: '반수정', check: false },\r\n            ],\r\n            searchKeywords: [\r\n                { matchIndex: 1, texts: ['김범수'] },\r\n                { matchIndex: 2, texts: ['이창재', '이탕제', '이창제', '희창재'] },\r\n                { matchIndex: 3, texts: ['정용진', '정영진'] },\r\n                { matchIndex: 4, texts: ['최원준', '최준', '체원준', '채원준'] },\r\n                { matchIndex: 5, texts: ['김한규', '김원규'] },\r\n                // { matchIndex: 6, texts: ['이예진', '이혜진', '예진', '이해진'] },\r\n                // { matchIndex: 7, texts: ['고도연', '고도양', '고도현', '고도영', '고도야'] },\r\n                // { matchIndex: 8, texts: ['김범수'] },\r\n            ],\r\n            isRecording: false,\r\n            audioArray: [],\r\n            voiceState: 'start',\r\n        }\r\n    },\r\n    computed: {\r\n        progress() {\r\n            return Number((this.step) / (this.totalStep)) * 100;\r\n        },\r\n        allConfirm() {\r\n            return this.voiceState === 'finish'\r\n        },\r\n    },\r\n    methods: {\r\n        onForceNext() {\r\n            this.$router.push('/TBM/Step02')\r\n        },\r\n        onClickNext() {\r\n            if (this.allConfirm) {\r\n                this.$router.push('/TBM/Step02')\r\n            } else if (this.voiceState === 'replay') {\r\n                this.$refs.VoiceRecorder.startRecording()\r\n            }\r\n        },\r\n        checkAnalysisResult(result) {\r\n            const audio = result.replace(/\\s/g, '');\r\n\r\n            for (const keyword of this.searchKeywords) {\r\n                for (const text of keyword.texts) {\r\n                    if (audio.includes(text)) {\r\n                        for (const operator of this.operatorInfo) {\r\n                            if (operator.index === keyword.matchIndex) {\r\n                                operator.check = true\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        midResultState(result) {\r\n            if (result === 'finish') {\r\n                const allChecked = this.operatorInfo.every((operator) => operator.check);\r\n                if (!allChecked) {\r\n                    result = 'replay'\r\n                    this.$refs.VoiceRecorder.changeState(result)\r\n                }\r\n            }\r\n            this.voiceState = result\r\n        },\r\n        textStyle(check) {\r\n            return check ? \"color_primary_4 font_extra_bold\" : \"color_primary_4\"\r\n        }\r\n    },\r\n    mounted() {\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.s {\r\n    &-title {\r\n        font-family: 'Pretendard Bold';\r\n        font-size: 20px;\r\n        color: #fff;\r\n        line-height: 1.5;\r\n        letter-spacing: -0.5px;\r\n        margin: 16px 0 6px;\r\n    }\r\n    &-sub {\r\n        font-family: 'Pretendard Medium';\r\n        font-size: 14px;\r\n        color: #777e8c;\r\n        line-height: 1.43;\r\n        word-break: keep-all;\r\n    }\r\n    &-notice {\r\n        &-box {\r\n            border-radius: 6px;\r\n            background-color: #eee;\r\n            padding: 7px;\r\n            font-family: 'Pretendard Medium';\r\n            font-size: 14px;\r\n            margin-bottom: 4px;\r\n            color: #777e8c;\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n        &-icon {\r\n            width: 20px;\r\n            height: 20px;\r\n            margin-right: 4px;\r\n        }\r\n    }\r\n    &-table {\r\n        width: 100%;\r\n        padding: 20px;\r\n        border-radius: 8px;\r\n        background-color: #f5f5f5;\r\n        margin-bottom: 60px;\r\n\r\n        &-label {\r\n            font-family: 'Pretendard SemiBold';\r\n            font-size: 16px;\r\n            font-weight: 600;\r\n            color: #777e8c;\r\n            line-height: 2.25;\r\n            letter-spacing: -0.5px;\r\n        }\r\n        &-data {\r\n            font-size: 24px;\r\n        }\r\n    }\r\n}\r\n\r\ntd {\r\n    padding: 4px 12px 4px 0;\r\n}\r\ntable {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    line-height: 1.43;\r\n}\r\ntr {\r\n    border-bottom: 1px solid #eee;\r\n}\r\ntr:last-child {\r\n    border: none;\r\n}\r\ntd:first-child {\r\n    width: 30%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Step01.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Step01.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Step01.vue?vue&type=template&id=f81e376c&scoped=true\"\nimport script from \"./Step01.vue?vue&type=script&lang=js\"\nexport * from \"./Step01.vue?vue&type=script&lang=js\"\nimport style0 from \"./Step01.vue?vue&type=style&index=0&id=f81e376c&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f81e376c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_v","_s","step","totalStep","_m","progress","_l","operatorInfo","item","index","key","label","class","textStyle","check","domProps","data","ref","on","checkAnalysisResult","midResultState","voiceState","onClickNext","onForceNext","_e","staticRenderFns","require","name","components","BasicBtn","VoiceRecorderHidden","NextBtn","searchKeywords","matchIndex","texts","isRecording","audioArray","computed","Number","allConfirm","methods","$router","push","$refs","VoiceRecorder","startRecording","result","audio","replace","keyword","text","includes","operator","allChecked","every","changeState","mounted","component"],"sourceRoot":""}